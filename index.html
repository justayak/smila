<!DOCTYPE html>
<html>
<head>
    <title>Smila</title>
</head>
<script src="libs/stats.js"></script>
<script src="libs/quojs.js"></script>
<script src="libs/keys.js"></script>
<script src="js/smila.js"></script>
<script src="http://code.jquery.com/jquery-2.0.3.min.js"></script>
<style>
    *{
        margin:0;
        padding:0;
    }
    .stats{
        position: absolute;
        top:0;
        right:0;
    }
</style>
<script>

    window.onload = function () {


        $('#smila').width($(window).width()).height($(window).height());

        /*
        document.onkeydown = function(e){
            switch (e.keyCode){
                case 65:    // a
                    Smila.Renderer.camera().translate(-1,0);
                    break;
                case 68:    // d
                    Smila.Renderer.camera().translate(1,0);
                    break;
                case 87:    // w
                    Smila.Renderer.camera().translate(0,-1);
                    break;
                case 83:    // s
                    Smila.Renderer.camera().translate(0,1);
                    break;
                default :
                    Smila.Renderer.camera().translate(0,0);
            }
        }

        document.onkeyup = function(e){
            Smila.Renderer.camera().translate(0,0);
        }
        */

        Smila.Settings({verbose:true});

        Smila.Renderer.start();

        Smila.DataStore.put({src:"res/img/character.png", w:64, h:64, key:"character", o:true, bm:true}, function () {

            var sprite = Smila.DataStore.get("character");

            Smila.Renderer.add(sprite);




            var sprite2 = Smila.DataStore.get("character");
            Smila.Renderer.add(sprite2);
            sprite2.position(100,0);

            Smila.Renderer.onUpdate(function(dt, elapsed){

                var offsetY = 0;
                var offsetX = 0;
                if(isKeyPressed(KEY.ARROW_UP)){
                    offsetY += 0.2 * dt;
                } if(isKeyPressed(KEY.ARROW_DOWN)){
                    offsetY -= 0.2 * dt;
                } if(isKeyPressed(KEY.ARROW_RIGHT)){
                    offsetX -= 0.2 * dt;
                } if(isKeyPressed(KEY.ARROW_LEFT)){
                    offsetX += 0.2 * dt;
                }
                Smila.Renderer.camera().translate(offsetX,offsetY);

            });

        });

    };

</script>
<body>
<div style="width:400px; height:400px;" id="smila"></div>
</body>
</html>